<div id="sharePopupBody" class="body flex col gap-16">
    <div>
        <span class="header">Plain-text stats</span>
    </div>
    <div>
        <p>Click the button below to copy a plain text version of this profile's category stats. The text includes
            username,
            category name, per year stats, and a total at the bottom, with checkboxes next to each year indicating full
            completion.</p>
        <button class="btn primary" onClick="copyText(`<%= share.plainText %>`)">
            <span class="icon">content_copy</span>
            <span>Copy plain-text stats</span>
        </button>
    </div>
    <div>
        <span class="header">Customize image background colors</span>
    </div>
    <div>
        <p>The background color of the following image renders can be given custom hue and saturation values. Change the
            values in the following textboxes to see them reflected in the preview images and in the embeds you copy.
        </p>
        <ul>
            <li><b>Hue</b> ranges from 0 to 360 and represents a degree of the hue circle. Where 0 is red, 120 is green,
                240 is blue, etc., looping back to red at 360.</li>
            <li><b>Saturation</b> ranges from 0 to 100 and represents the intensity of the color. Where 0 is completely
                desaturated (gray) and 100 is fully saturated (vivid color). Set this to 10% if you're putting the image
                on the osu! website.</li>
        </ul>
        <form class="flex gap-12 flex-wrap" data-reload-selectors="#render-yearly">
            <div class="flex col gap-4">
                <label>Hue</label>
                <div class="textbox" style="width: 100px">
                    <input class="input" type="number" name="share_base_hue" placeholder="340"
                        value="<%= query.share_base_hue %>" min="0" max="360">
                </div>
            </div>
            <div class="flex col gap-4">
                <label>Saturation</label>
                <div class="textbox" style="width: 100px">
                    <input class="input" type="number" name="share_base_sat" placeholder="10"
                        value="<%= query.share_base_sat %>" min="0" max="100">
                </div>
            </div>
        </form>
    </div>
    <% for (const [renderId, render] of Object.entries(share.renders)) { %>
    <div>
        <span class="header"><%= render.name %></span>
    </div>
    <div>
        <p><%= render.description %></p>
        <div id="render-<%= renderId %>" class="flex col gap-8">
            <img src="<%= render.urls.image %>" style="max-width: 600px">
            <div class="flex gap-8 flex-wrap">
                <% if (render.embeds.bbcode) { %>
                <button class="btn primary" onClick="copyText(`<%= render.embeds.bbcode %>`)"
                    title="Paste directly into osu!">
                    <span class="icon">content_copy</span>
                    <span>Copy osu! BBCode</span>
                </button>
                <% } %>
                <% if (render.urls.image) { %>
                <button class="btn" onClick="copyText(`<%= render.urls.image %>`)">
                    <span class="icon">content_copy</span>
                    <span>Copy image URL</span>
                </button>
                <% } %>
                <% if (render.urls.html) { %>
                <button class="btn" onClick="copyText(`<%= render.urls.html %>`)"
                    title="Suitable for use as an OBS browser source or similar web-based widget.">
                    <span class="icon">content_copy</span>
                    <span>Copy HTML URL</span>
                </button>
                <% } %>
                <% if (render.urls.image) { %>
                <button class="btn"
                    onClick="downloadFile(`<%= render.urls.image %>`, `<%= renderId %>-<%= new Date().toISOString() %>.png`)">
                    <span class="icon">download</span>
                    <span>Download image</span>
                </button>
                <% } %>
            </div>
        </div>
    </div>
    <% } %>
</div>